---
import BaseLayout from '../layouts/BaseLayout.astro';
import Blogpost from '../components/Blogpost.astro';
const allPosts = await Astro.glob('../pages/posts/*.md');
const pageTitle = 'Empty Telephone Blog';
---

<BaseLayout pageTitle={pageTitle}>
  <p>
    I'm talking to an empty telephone. Cause there's a dead man on the other end
    of this %$#@ line!
  </p>
  <ul>
    <!-- use astro glob to iterate over posts and make this list -->
    <!-- {
      allPosts.map((post) => (
        <li>
          <a href={post.url}>{post.frontmatter.title}</a>
        </li>
      ))
    } -->
    {
      allPosts.map((post) => (
        <Blogpost url={post.url} title={post.frontmatter.title} />
      ))
    }

    <!-- <li><a href='/posts/post-1'>Man, I HAD to get it on!</a></li>
    <li><a href='/posts/post-2'>The heat around the corner</a></li>
    <li><a href='/posts/post-3'>How to grab it</a></li> -->
  </ul>
</BaseLayout>
